Sample parsing of some AsciiDoc features.

Works on SWI Prolog, might work with Scryer Prolog.

Right now the parser is very limited. It can parse files like `sample.adoc`:

----
:xx_xx:

* This is a list.
* This item *has* emphasis
* This item _has**more**_ complex formatting.
* And we are * error tolerant.
----

Refer to link:parsing-asciidoc-in-prolog.adoc[parsing AsciiDoc in Prolog] for further details.

= Installing

You need https://python-poetry.org/[Poetry] and https://www.swi-prolog.org/[SWI-Prolog] to run the parser.

You can install the parser with pipx by running:

----
$ pipx install git+https://github.com/alexpdp7/prolog-asciidoc.git
----

= Running

To execute the parser, run the pasc command.
For development, use `poetry run` like:

[subs=+quotes]
----
$ poetry run pasc sample.adoc | python -m json.tool
{
    "type": "Document",
    "header": {
        "type": "Header",
        "header_lines": [
            {
                "type": "AttributeEntry",
                "attribute_name": "xx_xx",
                "pos": {
                    "begin": {
                        "character": 0,
                        "line": 0,
                        "column": 0
                    },
                    "end": {
                        "character": 8,
                        "line": 1,
                        "column": 0
                    }
_..._
----

= Differences from AsciiDoctor

* `pass:[_*a*_]` is not "valid" AsciiDoctor:
- https://asciidoc.zulipchat.com/#narrow/stream/335219-asciidoc-lang/topic/Clarification.20on.20constrained.20formatting.20marks/near/299416275
- https://docs.asciidoctor.org/asciidoc/latest/text/bold/#mixing-bold-with-other-formatting

= Development

== Testing

Run tests with:

----
$ ( cd prolog && swipl -g run_tests -t halt tests.plt )
----

== Building and pushing images

$ python3 -c "import build ; build.build_image_and_push()"
